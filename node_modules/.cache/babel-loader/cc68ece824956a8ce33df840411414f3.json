{"ast":null,"code":"var _jsxFileName = \"/home/joaquim/internship/emoji-search/src/App.js\";\nimport React, { useState, useEffect } from 'react';\nimport styled from '@emotion/styled';\nimport Result from './components/Result';\nimport Header from './components/Header';\nimport Search from './components/Search';\nimport data from './json/data.json'; // const Header = styled.div`\n//     display: flex;\n//     flex-direction: column;\n//     align-items: center;\n//     margin-bottom: 30px;\n// `\n// const Input = styled.input`\n//     width: 60%;\n//     font-size: 15px;\n//     padding: 10px;\n// `\n\nfunction App() {\n  const [search, setSearch] = useState('');\n  const [newEmojis, setNewEmojis] = useState([]);\n  const [emojiData, setEmojiData] = useState();\n  useEffect(() => {\n    setEmojiData(data);\n    console.log('useEffect:', emojiData);\n  }, emojiData);\n\n  const handleChange = newSearch => {\n    // update search state\n    setSearch(newSearch.toLowerCase()); // get a array of search words\n\n    const searchQuery = search.toLowerCase().trim().split(' '); // get the array length (to make the decision if the emoji is worth to show or not)\n\n    const nrWords = searchQuery.length; // create a query match counter\n\n    let matchCounter = 0; // create an array to fill with the new emojis\n\n    let resultEmojis = []; // if search has content\n\n    if (nrWords > 0) {\n      // iterate every emoji\n      emojiData.forEach(emoji => {\n        // remove the duplicates of the emoji's keywords using a Set\n        const emojiKeywordsArray = [...new Set(emoji.keywords.trim().split(' '))];\n        console.log('App: ', emojiKeywordsArray); // reset the counter\n\n        matchCounter = 0; // iterate the search query\n\n        searchQuery.forEach(query => {\n          // iterate the emoji's keywords\n          emojiKeywordsArray.forEach(keyword => {\n            // if the word exists in the emoji's keywords\n            if (query.indexOf(keyword)) matchCounter++; // then update the counter\n          });\n        }); // if counter is >= the number of words of the search query, then the emoji must be shown\n\n        if (nrWords <= matchCounter) resultEmojis.push(emoji);\n      });\n    } // update the newEmojis state\n\n\n    setNewEmojis(resultEmojis);\n  };\n\n  return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(Header, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 82,\n      columnNumber: 9\n    }\n  }), /*#__PURE__*/React.createElement(Search, {\n    onChange: handleChange,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 83,\n      columnNumber: 9\n    }\n  }), /*#__PURE__*/React.createElement(Result, {\n    list: search === '' ? emojiData : newEmojis,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 84,\n      columnNumber: 9\n    }\n  }));\n}\n\nexport default App;","map":{"version":3,"sources":["/home/joaquim/internship/emoji-search/src/App.js"],"names":["React","useState","useEffect","styled","Result","Header","Search","data","App","search","setSearch","newEmojis","setNewEmojis","emojiData","setEmojiData","console","log","handleChange","newSearch","toLowerCase","searchQuery","trim","split","nrWords","length","matchCounter","resultEmojis","forEach","emoji","emojiKeywordsArray","Set","keywords","query","keyword","indexOf","push"],"mappings":";AAAA,OAAOA,KAAP,IAAgBC,QAAhB,EAA0BC,SAA1B,QAA2C,OAA3C;AACA,OAAOC,MAAP,MAAmB,iBAAnB;AAEA,OAAOC,MAAP,MAAmB,qBAAnB;AACA,OAAOC,MAAP,MAAmB,qBAAnB;AACA,OAAOC,MAAP,MAAmB,qBAAnB;AACA,OAAOC,IAAP,MAAiB,kBAAjB,C,CAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,SAASC,GAAT,GAAe;AACX,QAAM,CAACC,MAAD,EAASC,SAAT,IAAsBT,QAAQ,CAAC,EAAD,CAApC;AACA,QAAM,CAACU,SAAD,EAAYC,YAAZ,IAA4BX,QAAQ,CAAC,EAAD,CAA1C;AACA,QAAM,CAACY,SAAD,EAAYC,YAAZ,IAA4Bb,QAAQ,EAA1C;AAEAC,EAAAA,SAAS,CAAE,MAAM;AACbY,IAAAA,YAAY,CAACP,IAAD,CAAZ;AACAQ,IAAAA,OAAO,CAACC,GAAR,CAAY,YAAZ,EAA0BH,SAA1B;AACH,GAHQ,EAGNA,SAHM,CAAT;;AAKA,QAAMI,YAAY,GAAIC,SAAD,IAAe;AAEhC;AACAR,IAAAA,SAAS,CAACQ,SAAS,CAACC,WAAV,EAAD,CAAT,CAHgC,CAKhC;;AACA,UAAMC,WAAW,GAAGX,MAAM,CAACU,WAAP,GAAqBE,IAArB,GAA4BC,KAA5B,CAAkC,GAAlC,CAApB,CANgC,CAQhC;;AACA,UAAMC,OAAO,GAAGH,WAAW,CAACI,MAA5B,CATgC,CAWhC;;AACA,QAAIC,YAAY,GAAG,CAAnB,CAZgC,CAchC;;AACA,QAAIC,YAAY,GAAG,EAAnB,CAfgC,CAiBhC;;AACA,QAAKH,OAAO,GAAG,CAAf,EAAmB;AAEf;AACAV,MAAAA,SAAS,CAACc,OAAV,CAAoBC,KAAD,IAAW;AAC1B;AACA,cAAMC,kBAAkB,GAAG,CAAC,GAAG,IAAIC,GAAJ,CAAQF,KAAK,CAACG,QAAN,CAAeV,IAAf,GAAsBC,KAAtB,CAA4B,GAA5B,CAAR,CAAJ,CAA3B;AACAP,QAAAA,OAAO,CAACC,GAAR,CAAY,OAAZ,EAAqBa,kBAArB,EAH0B,CAK1B;;AACAJ,QAAAA,YAAY,GAAG,CAAf,CAN0B,CAQ1B;;AACAL,QAAAA,WAAW,CAACO,OAAZ,CAAqBK,KAAK,IAAI;AAC1B;AACAH,UAAAA,kBAAkB,CAACF,OAAnB,CAA4BM,OAAO,IAAI;AACnC;AACA,gBAAID,KAAK,CAACE,OAAN,CAAcD,OAAd,CAAJ,EACIR,YAAY,GAHmB,CAGd;AACxB,WAJD;AAKH,SAPD,EAT0B,CAkB1B;;AACA,YAAKF,OAAO,IAAIE,YAAhB,EACIC,YAAY,CAACS,IAAb,CAAkBP,KAAlB;AACP,OArBD;AAsBH,KA3C+B,CA4ChC;;;AACAhB,IAAAA,YAAY,CAACc,YAAD,CAAZ;AACH,GA9CD;;AAgDA,sBACE,uDACE,oBAAC,MAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADF,eAEE,oBAAC,MAAD;AAAQ,IAAA,QAAQ,EAAET,YAAlB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAFF,eAGE,oBAAC,MAAD;AAAQ,IAAA,IAAI,EAAER,MAAM,KAAK,EAAX,GAAgBI,SAAhB,GAA4BF,SAA1C;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAHF,CADF;AAQH;;AAED,eAAeH,GAAf","sourcesContent":["import React, { useState, useEffect } from 'react';\nimport styled from '@emotion/styled'\n\nimport Result from './components/Result'\nimport Header from './components/Header'\nimport Search from './components/Search'\nimport data from './json/data.json'\n\n\n// const Header = styled.div`\n//     display: flex;\n//     flex-direction: column;\n//     align-items: center;\n//     margin-bottom: 30px;\n// `\n// const Input = styled.input`\n//     width: 60%;\n//     font-size: 15px;\n//     padding: 10px;\n// `\n\nfunction App() {\n    const [search, setSearch] = useState('');\n    const [newEmojis, setNewEmojis] = useState([])\n    const [emojiData, setEmojiData] = useState();\n\n    useEffect( () => {\n        setEmojiData(data);\n        console.log('useEffect:', emojiData);\n    }, emojiData)\n\n    const handleChange = (newSearch) => {\n\n        // update search state\n        setSearch(newSearch.toLowerCase());\n\n        // get a array of search words\n        const searchQuery = search.toLowerCase().trim().split(' ');\n\n        // get the array length (to make the decision if the emoji is worth to show or not)\n        const nrWords = searchQuery.length;\n\n        // create a query match counter\n        let matchCounter = 0;\n\n        // create an array to fill with the new emojis\n        let resultEmojis = [];\n\n        // if search has content\n        if ( nrWords > 0 ) {\n\n            // iterate every emoji\n            emojiData.forEach( (emoji) => {\n                // remove the duplicates of the emoji's keywords using a Set\n                const emojiKeywordsArray = [...new Set(emoji.keywords.trim().split(' '))];\n                console.log('App: ', emojiKeywordsArray)\n\n                // reset the counter\n                matchCounter = 0;\n\n                // iterate the search query\n                searchQuery.forEach( query => {\n                    // iterate the emoji's keywords\n                    emojiKeywordsArray.forEach( keyword => {\n                        // if the word exists in the emoji's keywords\n                        if (query.indexOf(keyword))\n                            matchCounter++;  // then update the counter\n                    })\n                })\n\n                // if counter is >= the number of words of the search query, then the emoji must be shown\n                if ( nrWords <= matchCounter )\n                    resultEmojis.push(emoji);\n            })\n        }\n        // update the newEmojis state\n        setNewEmojis(resultEmojis);\n    }\n\n    return (\n      <>\n        <Header />\n        <Search onChange={handleChange}/>\n        <Result list={search === '' ? emojiData : newEmojis} />\n\n    </>\n    );\n}\n\nexport default App;\n"]},"metadata":{},"sourceType":"module"}